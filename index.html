<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Reddit‑Auto‑Disable‑Subreddit‑Style</title>

  <!-- Google site‑verification meta -->
  <meta name="google-site-verification"
        content="4mrhC95v9YsAor3epC1umxHBlUko4Hp7MOUYgO-1UbQ">

  <!-- Optional font -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap"
        rel="stylesheet">

  <style>
    /* ----------  Background gradient: dark blue → lighter blue ---------- */
    html, body {
      height: 100%;
      margin: 0;
      font-family: 'Inter', sans-serif;
      background: linear-gradient(135deg,
                                  #001f3f 0%,
                                  #001f3f 45%,
                                  #0074D9 55%,
                                  #7FDBFF 100%);
      background-attachment: fixed;
      color: #222;
      display: flex;
      justify-content: center;
      align-items: center;
      /* overflow: hidden;  ← keep it hidden only if you want clipping */
    }

    .card {
      background: rgba(255,255,255,0.92);
      border-radius: 12px;
      box-shadow: 0 8px 20px rgba(0,0,0,.12);
      max-width: 480px;
      width: 90%;
      padding: 2rem;
      text-align: center;
    }

    h1 { font-size: 1.8rem; font-weight: 600; margin: 0 0 .5rem; }
    p  { margin: 0; line-height: 1.6; }

    @media (max-width: 480px) {
      .card { padding: 1.5rem; }
      h1   { font-size: 1.5rem; }
    }
  </style>
</head>

<body>
  <div class="card" id="card">
    <h1>Auto‑Disable Subreddit Styles</h1>
    <p>Releasing as a Chrome extension soon™</p>
    Requires <a href="https://redditenhancementsuite.com/">Reddit Enhancement Suite</a>.
    Requires <a href="https://chromewebstore.google.com/detail/old-reddit-redirect/dneaehbmnbhcippjikoajpoabadpodje">Old Reddit Redirect</a>.
    <p><a href="https://github.com/HarryMadden" target="_blank" rel="noopener">github.com/HarryMadden</a></p>
  </div>

  <script>
    /* -------------------------------------------------------------
     * 1️⃣  Variables
     * ------------------------------------------------------------ */
    const card = document.getElementById('card');
    const maxTranslate = 500;          // max pixels the card may move
    const smoothingPoints = 5;        // how many recent cursor points to average
    const damping = 0.05;             // higher = faster, lower = smoother

    let mouseHistory = [];            // stores recent normalized offsets
    let targetX = 0, targetY = 0;     // smoothed target position
    let currentX = 0, currentY = 0;   // actual animated position

    /* -------------------------------------------------------------
     * 2️⃣  Mouse tracking – update smoothed target
     * ------------------------------------------------------------ */
    card.addEventListener('mousemove', e => {
      const rect = card.getBoundingClientRect();
      const cx = rect.left + rect.width / 2;
      const cy = rect.top  + rect.height / 2;

      // Cursor offset from card centre, normalised to [-1, 1]
      const offsetX = (e.clientX - cx) / (rect.width / 2);
      const offsetY = (e.clientY - cy) / (rect.height / 2);

      // Add to history
      mouseHistory.push({ ox: offsetX, oy: offsetY });
      if (mouseHistory.length > smoothingPoints) mouseHistory.shift();

      // Compute average of the history
      const avg = mouseHistory.reduce(
        (acc, p) => ({ ox: acc.ox + p.ox, oy: acc.oy + p.oy }),
        { ox: 0, oy: 0 }
      );
      const avgOx = avg.ox / mouseHistory.length;
      const avgOy = avg.oy / mouseHistory.length;

      // Convert to pixel translate, clamped to ±maxTranslate
      targetX = Math.max(-maxTranslate, Math.min(maxTranslate, avgOx * maxTranslate));
      targetY = Math.max(-maxTranslate, Math.min(maxTranslate, avgOy * maxTranslate));
    });

    /* -------------------------------------------------------------
     * 3️⃣  Reset target when mouse leaves the card
     * ------------------------------------------------------------ */
    card.addEventListener('mouseleave', () => {
      targetX = targetY = 0;
    });

    /* -------------------------------------------------------------
     * 4️⃣  Animation loop – smooth spring‑like motion
     * ------------------------------------------------------------ */
    function animate() {
      currentX += (targetX - currentX) * damping;
      currentY += (targetY - currentY) * damping;

      card.style.transform = `translate(${currentX}px, ${currentY}px)`;
      requestAnimationFrame(animate);
    }
    requestAnimationFrame(animate);   // start animation
  </script>
</body>
</html>
